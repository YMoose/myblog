# hyperscan原理
## 正则表达式分解
hyperscan将正则表达式分解作为最主要的一步
正则表达式分解将一个正则拆分为一系列分离的字符串和FA元素(连接、选择、闭包)。这样的转换将正则匹配转换为了一串由快速字符串匹配来控制顺序的子正则表达式匹配。
分解有一下前提条件
1. 标识（字符串）符是通过自动化方法谨慎分析所得，且分离除的字符串是剩余正则的必要条件
2. hyperscan还会跟踪字符串匹配的状态，来避免重复匹配字符串
3. 只在FA元素需要被匹配时才匹配
4. 被分解后的FA元素通常比较小，更容易被转换为DFA和应用DFA快速匹配方法