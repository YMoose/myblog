# test
测试的目的是为了提高生产力，这一点需要实事求是，如果减慢生产力的情况发生就要作出相应的调整
测试可以视为文档的一部分，同样也是代码的一部分
每个测试用例有两个不同的维度：
- （运行）粒度：运行测试用例所需的资源（内存、进程、时间）
- （代码）范围：正在验证的代码路径

## 测试粒度
google按照粒度大小对测试分为小型测试（单进程中）、中型测试（单机器涉及多线程中）、（超）大型测试，测试的确定性逐步递减。
自动化测试中，最好要包含高确定性的测试用例，不然每次都要定位具体错误原因，比较麻烦。
防止脆弱的测试，是指在对生产代码进行不相关的变更，也不会引入任何真正的缺陷时仍旧失败的测试
测试目的要清晰，有两方面要求
- 完整：包含为得到结果的所有信息
- 简洁：除上述信息，不包含其余冗余的信息
测试的目的是测试一个行为，可以描述为given-when-then（有点像数学证明）的行为，并据此实现单元测试结构（命名上也可参考）
为编写可测试的代码需要预先考虑测试的实现，这点TDD通过先实现测试来完成，是一个不错的实践

## 测试范围
可通过覆盖率的指标来指导测试用例的编写，如果某些代码路径没有被执行到，那么就需要添加测试用例来覆盖这些路径。